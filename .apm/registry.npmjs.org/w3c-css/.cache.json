{"_id":"w3c-css","_rev":"28-d5b3a50ca50420e03831a390089998eb","name":"w3c-css","description":"Validate CSS using W3C CSS Validation Service","dist-tags":{"latest":"2.0.0"},"versions":{"0.2.0":{"name":"w3c-css","version":"0.2.0","description":"CSS Validation using W3C CSS Validation Service","main":"index.js","scripts":{"test":"mocha --reporter spec ./spec"},"repository":{"type":"git","url":"https://github.com/gchudnov/w3c-css.git"},"keywords":["css","w3c","validate"],"author":{"name":"Grigoriy Chudnov","email":"g.chudnov@gmail.com","url":"https://github.com/gchudnov"},"license":"MIT","bugs":{"url":"https://github.com/gchudnov/w3c-css/issues"},"homepage":"https://github.com/gchudnov/w3c-css","dependencies":{"request":"^2.51.0","sax":"^0.6.1"},"devDependencies":{"mocha":"^2.1.0","should":"^4.4.2"},"gitHead":"f6c0e37d8cc0234b27c1c4c3430b0ee82c43177d","_id":"w3c-css@0.2.0","_shasum":"dae89324f2a5c01711b0181510f5b2e17301663c","_from":".","_npmVersion":"1.4.28","_npmUser":{"name":"gchudnov","email":"g.chudnov@gmail.com"},"maintainers":[{"name":"gchudnov","email":"g.chudnov@gmail.com"}],"dist":{"shasum":"dae89324f2a5c01711b0181510f5b2e17301663c","tarball":"https://registry.npmjs.org/w3c-css/-/w3c-css-0.2.0.tgz"},"directories":{}},"0.3.0":{"name":"w3c-css","version":"0.3.0","description":"CSS Validation using W3C CSS Validation Service","main":"index.js","scripts":{"test":"mocha --reporter spec"},"repository":{"type":"git","url":"https://github.com/gchudnov/w3c-css.git"},"keywords":["css","w3c","validate"],"author":{"name":"Grigoriy Chudnov","email":"g.chudnov@gmail.com","url":"https://github.com/gchudnov"},"license":"MIT","bugs":{"url":"https://github.com/gchudnov/w3c-css/issues"},"homepage":"https://github.com/gchudnov/w3c-css","dependencies":{"request":"^2.51.0","sax":"^0.6.1"},"devDependencies":{"mocha":"^2.1.0","should":"^4.4.2"},"gitHead":"bcfa86165604b66582510a916a16772ef1fb131a","_id":"w3c-css@0.3.0","_shasum":"45fda06831c333c173891b16248a9181a91c8aa9","_from":".","_npmVersion":"1.4.28","_npmUser":{"name":"gchudnov","email":"g.chudnov@gmail.com"},"maintainers":[{"name":"gchudnov","email":"g.chudnov@gmail.com"}],"dist":{"shasum":"45fda06831c333c173891b16248a9181a91c8aa9","tarball":"https://registry.npmjs.org/w3c-css/-/w3c-css-0.3.0.tgz"},"directories":{}},"0.3.1":{"name":"w3c-css","version":"0.3.1","description":"CSS Validation using W3C CSS Validation Service","main":"index.js","scripts":{"test":"mocha --reporter spec"},"repository":{"type":"git","url":"https://github.com/gchudnov/w3c-css.git"},"keywords":["css","w3c","validate","compliance"],"author":{"name":"Grigoriy Chudnov","email":"g.chudnov@gmail.com","url":"https://github.com/gchudnov"},"license":"MIT","bugs":{"url":"https://github.com/gchudnov/w3c-css/issues"},"homepage":"https://github.com/gchudnov/w3c-css","dependencies":{"request":"^2.51.0","sax":"^0.6.1"},"devDependencies":{"mocha":"^2.1.0","should":"^4.4.2"},"gitHead":"e566cc5957fcbf658744712f09254a6d7177e4f1","_id":"w3c-css@0.3.1","_shasum":"91d50f7104e3877b3d071ca2522857fd5cd02cf8","_from":".","_npmVersion":"1.4.28","_npmUser":{"name":"gchudnov","email":"g.chudnov@gmail.com"},"maintainers":[{"name":"gchudnov","email":"g.chudnov@gmail.com"}],"dist":{"shasum":"91d50f7104e3877b3d071ca2522857fd5cd02cf8","tarball":"https://registry.npmjs.org/w3c-css/-/w3c-css-0.3.1.tgz"},"directories":{}},"0.3.2":{"name":"w3c-css","version":"0.3.2","description":"CSS Validation using W3C CSS Validation Service","main":"index.js","scripts":{"test":"mocha --reporter spec"},"repository":{"type":"git","url":"https://github.com/gchudnov/w3c-css.git"},"keywords":["css","stylesheet","styles","w3c","validate","lint","compliance"],"author":{"name":"Grigoriy Chudnov","email":"g.chudnov@gmail.com","url":"https://github.com/gchudnov"},"license":"MIT","bugs":{"url":"https://github.com/gchudnov/w3c-css/issues"},"homepage":"https://github.com/gchudnov/w3c-css","dependencies":{"request":"^2.51.0","sax":"^0.6.1"},"devDependencies":{"mocha":"^2.1.0","should":"^4.4.2"},"gitHead":"57b3710a73db4dfc7aeb82b528d24be66f3c5ac2","_id":"w3c-css@0.3.2","_shasum":"25a0fae3e359fc03063c667d2534fdf9a29cce8d","_from":".","_npmVersion":"1.4.28","_npmUser":{"name":"gchudnov","email":"g.chudnov@gmail.com"},"maintainers":[{"name":"gchudnov","email":"g.chudnov@gmail.com"}],"dist":{"shasum":"25a0fae3e359fc03063c667d2534fdf9a29cce8d","tarball":"https://registry.npmjs.org/w3c-css/-/w3c-css-0.3.2.tgz"},"directories":{}},"0.4.0":{"name":"w3c-css","version":"0.4.0","description":"Validate CSS using W3C CSS Validation Service","main":"index.js","scripts":{"test":"mocha --reporter spec"},"bin":{"w3c-css":"./lib/cli.js"},"repository":{"type":"git","url":"https://github.com/gchudnov/w3c-css.git"},"keywords":["css","validate","stylesheet","styles","w3c","lint","compliance"],"author":{"name":"Grigoriy Chudnov","email":"g.chudnov@gmail.com","url":"https://github.com/gchudnov"},"license":"MIT","bugs":{"url":"https://github.com/gchudnov/w3c-css/issues"},"homepage":"https://github.com/gchudnov/w3c-css","dependencies":{"nopt":"^3.0.1","request":"^2.53.0","sax":"^0.6.1"},"devDependencies":{"mocha":"^2.1.0","should":"^5.0.0"},"gitHead":"4fcd186df8187823e77222193b31ad75a9e34562","_id":"w3c-css@0.4.0","_shasum":"8fd26f22881696d9324effed9cd0a2babc2d78cb","_from":".","_npmVersion":"2.5.0","_nodeVersion":"0.10.36","_npmUser":{"name":"gchudnov","email":"g.chudnov@gmail.com"},"maintainers":[{"name":"gchudnov","email":"g.chudnov@gmail.com"}],"dist":{"shasum":"8fd26f22881696d9324effed9cd0a2babc2d78cb","tarball":"https://registry.npmjs.org/w3c-css/-/w3c-css-0.4.0.tgz"},"directories":{}},"0.4.1":{"name":"w3c-css","version":"0.4.1","description":"Validate CSS using W3C CSS Validation Service","main":"index.js","scripts":{"test":"mocha --reporter spec"},"bin":{"w3c-css":"./lib/cli.js"},"repository":{"type":"git","url":"https://github.com/gchudnov/w3c-css.git"},"keywords":["css","validate","stylesheet","styles","w3c","lint","compliance"],"author":{"name":"Grigoriy Chudnov","email":"g.chudnov@gmail.com","url":"https://github.com/gchudnov"},"license":"MIT","bugs":{"url":"https://github.com/gchudnov/w3c-css/issues"},"homepage":"https://github.com/gchudnov/w3c-css","dependencies":{"nopt":"^3.0.1","request":"^2.55.0","sax":"^0.6.1"},"devDependencies":{"async":"^0.9.0","mocha":"^2.2.4","should":"^6.0.1"},"gitHead":"c8b2ae24b0554ac7905949db60d02195d4b989aa","_id":"w3c-css@0.4.1","_shasum":"4071a589e826aa595463d7fa183c748f6cd9790a","_from":".","_npmVersion":"2.7.6","_nodeVersion":"1.7.1","_npmUser":{"name":"gchudnov","email":"g.chudnov@gmail.com"},"maintainers":[{"name":"gchudnov","email":"g.chudnov@gmail.com"}],"dist":{"shasum":"4071a589e826aa595463d7fa183c748f6cd9790a","tarball":"https://registry.npmjs.org/w3c-css/-/w3c-css-0.4.1.tgz"},"directories":{}},"1.0.0":{"name":"w3c-css","version":"1.0.0","description":"Validate CSS using W3C CSS Validation Service","main":"index.js","scripts":{"test":"mocha --reporter spec"},"bin":{"w3c-css":"./lib/cli.js"},"repository":{"type":"git","url":"git+https://github.com/gchudnov/w3c-css.git"},"keywords":["css","validate","stylesheet","styles","w3c","lint","compliance"],"author":{"name":"Grigoriy Chudnov","email":"g.chudnov@gmail.com","url":"https://github.com/gchudnov"},"license":"MIT","bugs":{"url":"https://github.com/gchudnov/w3c-css/issues"},"homepage":"https://github.com/gchudnov/w3c-css","dependencies":{"nopt":"^3.0.6","request":"^2.67.0","sax":"^1.1.4"},"devDependencies":{"async":"^1.5.0","mocha":"^2.3.4","should":"^7.1.1"},"gitHead":"0d62472facffd0a71d1b3b05b4c335c4b603efae","_id":"w3c-css@1.0.0","_shasum":"486985690d4cc8923feac1d57c16829e90f3e12a","_from":".","_npmVersion":"3.3.12","_nodeVersion":"5.1.0","_npmUser":{"name":"gchudnov","email":"g.chudnov@gmail.com"},"maintainers":[{"name":"gchudnov","email":"g.chudnov@gmail.com"}],"dist":{"shasum":"486985690d4cc8923feac1d57c16829e90f3e12a","tarball":"https://registry.npmjs.org/w3c-css/-/w3c-css-1.0.0.tgz"},"directories":{}},"1.0.1":{"name":"w3c-css","version":"1.0.1","description":"Validate CSS using W3C CSS Validation Service","main":"index.js","scripts":{"test":"mocha --reporter spec"},"bin":{"w3c-css":"./lib/cli.js"},"repository":{"type":"git","url":"git+https://github.com/gchudnov/w3c-css.git"},"keywords":["css","validate","stylesheet","styles","w3c","lint","compliance"],"author":{"name":"Grigoriy Chudnov","email":"g.chudnov@gmail.com","url":"https://github.com/gchudnov"},"license":"MIT","bugs":{"url":"https://github.com/gchudnov/w3c-css/issues"},"homepage":"https://github.com/gchudnov/w3c-css","dependencies":{"nopt":"^3.0.6","request":"^2.69.0","sax":"^1.2.1"},"devDependencies":{"async":"^2.0.0-rc.2","mocha":"^2.4.5","should":"^8.3.0"},"gitHead":"cdbf43462a2829d693de27cbed5f2537e9f5b1dc","_id":"w3c-css@1.0.1","_shasum":"5e682d25b2c73c7dbc2991ce32ad9363d05907f9","_from":".","_npmVersion":"3.7.3","_nodeVersion":"5.9.0","_npmUser":{"name":"gchudnov","email":"g.chudnov@gmail.com"},"maintainers":[{"name":"gchudnov","email":"g.chudnov@gmail.com"}],"dist":{"shasum":"5e682d25b2c73c7dbc2991ce32ad9363d05907f9","tarball":"https://registry.npmjs.org/w3c-css/-/w3c-css-1.0.1.tgz"},"_npmOperationalInternal":{"host":"packages-13-west.internal.npmjs.com","tmp":"tmp/w3c-css-1.0.1.tgz_1458828801927_0.2168968729674816"},"directories":{}},"2.0.0":{"name":"w3c-css","version":"2.0.0","description":"Validate CSS using W3C CSS Validation Service","main":"index.js","scripts":{"test":"mocha --reporter spec","test:local":"env CSS_VALIDATOR=\"$(npm run -s validator:find)\" mocha --reporter spec","validator:build":"docker build -t css-validator ./validator","validator:run":"docker run -it --rm --name css-validator css-validator","validator:run:detach":"docker run -it --detach --name css-validator css-validator","validator:find:ip":"docker inspect --format='{{range .NetworkSettings.Networks}}{{.IPAddress}}{{end}}' css-validator","validator:find":"CSS_VALIDATOR_IP=$(npm run -s validator:find:ip) && echo '{ \"hostname\": \"'${CSS_VALIDATOR_IP}'\", \"port\": 8080 }'"},"bin":{"w3c-css":"./lib/cli.js"},"repository":{"type":"git","url":"git+https://github.com/gchudnov/w3c-css.git"},"keywords":["css","validate","stylesheet","styles","w3c","lint","compliance"],"author":{"name":"Grigoriy Chudnov","email":"g.chudnov@gmail.com","url":"https://github.com/gchudnov"},"license":"MIT","bugs":{"url":"https://github.com/gchudnov/w3c-css/issues"},"homepage":"https://github.com/gchudnov/w3c-css","dependencies":{"nopt":"^3.0.6","once":"^1.3.3","request":"^2.72.0","sax":"^1.2.1"},"devDependencies":{"async":"^2.0.0-rc.3","mocha":"^2.4.5","should":"^8.3.1"},"gitHead":"d56d6ddf01ea24c1a114c539690ec0991822624e","_id":"w3c-css@2.0.0","_shasum":"6f5e5acfdb3e5688c4207b59f7bffe6f5c98e20d","_from":".","_npmVersion":"3.8.6","_nodeVersion":"6.0.0","_npmUser":{"name":"gchudnov","email":"g.chudnov@gmail.com"},"maintainers":[{"name":"gchudnov","email":"g.chudnov@gmail.com"}],"dist":{"shasum":"6f5e5acfdb3e5688c4207b59f7bffe6f5c98e20d","tarball":"https://registry.npmjs.org/w3c-css/-/w3c-css-2.0.0.tgz"},"_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/w3c-css-2.0.0.tgz_1462273825873_0.4711752380244434"},"directories":{}}},"readme":"![w3c-css logo](http://i.imgur.com/csJN5BV.png)\n# w3c-css  [![Build Status](https://travis-ci.org/gchudnov/w3c-css.svg?branch=master)](https://travis-ci.org/gchudnov/w3c-css)\n\n> Validate CSS using [W3C CSS Validation Service](http://jigsaw.w3.org/css-validator/).\n\n_w3c-css_ will check the compliance against CSS profile specified (CSS3 by default) and report errors and potential problems in Cascading Style Sheets.\nThere are two types of validation events: errors and warnings.\n* Errors are reported when the checked CSS does not respect the CSS recommendation.\n* Warnings do not state a problem regarding the specification. They are used to notify that some CSS-input and could lead to a strange behaviour on some user agents.\n\n## Installation\n```bash\n$ npm install w3c-css\n```\n\n\n## Usage\n\n```javascript\n'use strict';\nvar validator = require('w3c-css');\n\nvalidator.validate('https://github.com/', function(err, data) {\n  if(err) {\n    // an error happened\n    console.error(err);\n  } else {\n    // validation errors\n    console.log('validation errors', data.errors);\n\n    // validation warnings\n    console.log('validation warnings', data.warnings);\n  }\n\n});\n\n```\n\nOR listen for events:\n\n```javascript\n'use strict';\nvar validator = require('w3c-css');\n\nvalidator.validate('https://github.com/')\n  .on('error', function(err) {\n    // an error happened\n    console.error(err);\n  })\n  .on('validation-error', function(data) {\n    // validation error\n    console.log(data);\n  })\n  .on('validation-warning', function(data) {\n    // validation warning\n    console.log(data);\n  })\n  .on('end', function() {\n    // validation complete\n  });\n\n```\n\n## Public vs. Private CSS Validator\n* The public [CSS Validation service](https://jigsaw.w3.org/css-validator/) requires a delay for at least 1 second between the requests.\n* Run a [private copy](https://jigsaw.w3.org/css-validator/DOWNLOAD.html) of the CSS Validator without delay restrictions. \n\n### Private CSS Validator\nTo deploy a private CSS Validator, use the following npm commands below to run a [Docker](https://www.docker.com/)-based instance locally or use an official [guideline](https://jigsaw.w3.org/css-validator/DOWNLOAD.html) to download and install it.\n\nBuilding a docker image of the CSS Validator:\n```\n$ npm run validator:build\n```\n\nRunning the container:\n```\n$ npm run validator:run\n```\nor\n```\n$ npm run validator:run:detach\n```\n\nLocating IP:PORT of the running docker container:\n```\n$ npm run validator:find\n```\nPrints an object, like `{ \"hostname\": \"172.17.0.2\", \"port\": 8080 }` if the container is running. Pass the returned object as a value for the `server` argument to the `validate` function.\n\n\n### Public CSS Validator\nPlease make sure your script [sleep for at least 1 second between requests](http://jigsaw.w3.org/css-validator/manual.html).\nThe CSS Validation service is a free, public service for all, your respect is appreciated.\n\nTo validate multiple links, use [async](https://github.com/caolan/async#eachseriesarr-iterator-callback) + [setTimeout](https://developer.mozilla.org/en-US/docs/Web/API/WindowTimers/setTimeout) or any related way to pause between the requests:  \n\n```javascript\n'use strict';\n\nvar async = require('async');\nvar validator = require('w3c-css');\n\nvar hrefs = ['http://google.com', 'https://developer.mozilla.org', 'http://www.microsoft.com/'];\n\nasync.eachSeries(hrefs, function(href, next) {\n  validator.validate(href, function(err, data) {\n    if(err) {\n      console.log('Failed to process: ' + href, err);\n    } else {\n      console.log('validation errors on ' + href, data.errors);\n      console.log('validation warnings on ' + href, data.warnings);\n    }\n\n    setTimeout(function() { next(err); }, 1500); // sleep for 1.5 second between the requests\n  });\n}, function(err) {\n  if(err) {\n    console.log('Failed to process a url', err);\n  } else {\n    console.log('All urls have been processed successfully');\n  }\n});\n```\n\n## Arguments\n\nThe first argument to the `validate` function can be either an URL or an `options` object. The only required option is `uri` or `text`; all others are optional.\n\nOptions supported:\n* `uri` || `url` - the URL of the document to validate\n* `text` - CSS document or fragment to validate. Only CSS-content is allowed\n* `profile` - the CSS profile used for the validation: `css1, css2, css21, css3` [default: 'css3']\n* `usermedium` - the [medium](http://www.w3.org/TR/CSS2/media.html) used for the validation: `screen, print, ...` [default: 'all', which is suitable for all devices]\n* `warning` - the warning level, \"no\" for no warnings, 0 for less warnings, 1or 2 for more warnings [default: 2] \n* `server` - the \"IP:PORT\" string or the [URL object](https://nodejs.org/api/url.html) of a custom validation server, e.g, `'172.17.0.2:8080'` or `{ host: '172.17.0.2:8080' }`\n\nThe  [optional] callback argument gets 2 arguments:\n\n* `err` - an error\n* `data` - a result object with `errors` and `warnings` properties.\n\n\n## CSS Errors & Warnings\n`errors` and `warnings` reported by the library are the arrays of following objects:\n\n```javascript\n{\n  line: '...',      // refers to the line where the error or warning was detected\n  message: '...'    // the error or warning message\n\n  // additional properties:\n  errorType: '...', // type of the error\n  context: '...',   // context of the error\n  level: '...',     // the level of the warning\n  uri: '...'        // URL of the stylesheet\n}\n```\n\n\n## Events\n\nAll events are emitted with a single argument. The list of supported events are exported in the\n`EVENTS` array. Assign handlers using the EventEmitter `on` function.\n\n* `validation-error` - raised on CSS-validation error\n* `validation-warning` - raised on CSS-validation warning\n* `error` - raised when a problem with validator is encountered, e.g. an invalid URL was specified\n* `end` - raised on completion. There will be no other events raised after this one.\n\n\n## CLI\nAs an alternative, validator can be invoked from the command line.\n\nOptions supported:\n* `summary` - print only the number of errors and warnings\n* `host` - defines a custom validation server, e.g.: `172.17.0.2:8080`\n\nFor local installs:\n```\n$ ./node_modules/.bin/w3c-css example-site.com --summary\n```\n\nFor global installs (-g):\n```\n$ w3c-css example-site.com\n```\n\nWith custom validation server:\n```\n$ w3c-css example-site.com --host=172.17.0.2:8080\n```\n\nSample output:\n```\n$ ./node_modules/.bin/w3c-css example-site.com --summary\nvalidating: http://example-site.com\nvalidation complete\ncss-errors: 207, css-warnings: 270\n```\n\n## Plugins\n* Gulp plugin: [gulp-w3c-css](https://github.com/gchudnov/gulp-w3c-css)\n\n## Contact\n\n[Grigoriy Chudnov] (mailto:g.chudnov@gmail.com)\n\n\n## License\n\nDistributed under the [The MIT License (MIT)](https://github.com/gchudnov/w3c-css/blob/master/LICENSE).\n","maintainers":[{"name":"gchudnov","email":"g.chudnov@gmail.com"}],"time":{"modified":"2016-05-03T11:10:28.258Z","created":"2015-01-06T15:09:43.744Z","0.2.0":"2015-01-06T15:09:43.744Z","0.3.0":"2015-01-06T22:36:57.473Z","0.3.1":"2015-01-06T22:56:27.020Z","0.3.2":"2015-01-07T08:18:23.062Z","0.4.0":"2015-02-12T20:09:53.060Z","0.4.1":"2015-04-17T22:43:11.367Z","1.0.0":"2015-11-30T11:58:13.218Z","1.0.1":"2016-03-24T14:13:24.423Z","2.0.0":"2016-05-03T11:10:28.258Z"},"homepage":"https://github.com/gchudnov/w3c-css","keywords":["css","validate","stylesheet","styles","w3c","lint","compliance"],"repository":{"type":"git","url":"git+https://github.com/gchudnov/w3c-css.git"},"author":{"name":"Grigoriy Chudnov","email":"g.chudnov@gmail.com","url":"https://github.com/gchudnov"},"bugs":{"url":"https://github.com/gchudnov/w3c-css/issues"},"license":"MIT","readmeFilename":"README.md","users":{"gchudnov":true},"_attachments":{},"_etag":"\"1YFXQYIQ79IVA2008EWPT1UX4\""}